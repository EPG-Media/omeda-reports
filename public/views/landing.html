
<!-- main container -->
<section class="flex-main-container">
  <!-- header -->
  <header class="flex-header-container">
    <a href="https://epgmediallc.com/"><img ng-src="./assets/images/logo2.png"></a>
    <div>
      <h5>{{lc.brand}}</h5>
      <h6>{{lc.date}}</h6>
    </div>
  </header>

  <!-- control panel -->
  <section class="flex-control_panel-container">
    <!-- organization -->
    <div class="control_panel-org-container">
      <label for="organization">Organization</label>
      <select name="organization" ng-model="lc.query.organization" ng-class="organization">
        <option value="EPG Media">{{lc.organization}}</option>
      </select>
    </div>
    <!-- brand -->
    <div class="control_panel-brand-container">
      <label for="brand">Brand</label>
      <select name="brand" ng-model="lc.query.brand" ng-class="brand">
        <option value="EPG Media Central Database">{{lc.brand}}</option>
      </select>
    </div>
    <!-- users -->
    <div class="control_panel-brand-container">
      <label for="user">User</label>
      <select name="user" ng-model="lc.query.user" ng-class="user">
        <option ng-repeat="user in lc.users" value="{{user.user_email}}">{{user.username}}</option>
      </select>
    </div>
    <!-- deployment date -->
    <div class="control_panel-deploy_date-container">
      <label for="deploy_date">Deployment Date</label>
      <select name="deploy_date" ng-model="lc.query.deployment_date" ng-class="deployment_date">
        <option value="{{lc.date}}">Today ({{lc.date}})</option>
        <option value="{{lc.one_week_back}}">Last 7 days (since {{lc.one_week_back}})</option>
        <option value="{{lc.two_week_back}}">Last 14 days (since {{lc.two_week_back}})</option>
        <option value="{{lc.three_week_back}}">Last 21 days (since {{lc.three_week_back}})</option>
        <option value="{{lc.thirty_week_back}}">Last 30 days (since {{lc.thirty_week_back}})</option>
      </select>
    </div>
    <!-- name contains -->
    <div class="control_panel-name_contains-container">
      <label for="name_contains">Name Contains</label>
      <input type="text" name="name_contains" ng-model="lc.query.name_contains" ng-class="name_contains">
    </div>
    <!-- trackID -->
    <div class="control_panel-trackID-container">
      <label for="trackID">TrackID</label>
      <input type="text" name="trackID" ng-model="lc.query.trackID" ng-class="trackID">
    </div>
    <!-- owner -->
    <div class="control_panel-owner-container">
      <label for="owner">Owner</label>
      <input type="text" name="owner" ng-model="lc.query.owner" ng-class="owner">
    </div>
    <!-- submit button -->
    <div class="control_panel-button-container">
      <button type="button" name="button" ng-click="lc.sendQuery(lc.query)" class="btn-active" ng-if="lc.button_status === 'button_active'">Search</button>
      <button type="button" name="button" class="btn-inactive" ng-if="lc.button_status === 'button_inactive'"><img src="../assets/images/loader.gif" class="loader"></button>
    </div>
  <!-- end control panel container -->
  </section>

  <!-- displays on init and when lc.query is null -->
  <section ng-if="lc.data_container === 'inactive'" class="init-message">
    <p><em>Showing no results...</em></p>
    <img ng-src="./assets/images/omeda.png">
  </section>

  <!-- container shows when lc.query is not NULL -->
  <section ng-if="lc.data_container === 'active'">
    <!-- data container -->
    <section class="flex-data-container">
      <p><em>Showing {{lc.API_response_total}} results...</em></p>
      <table>
        <tr class="heading_row">
          <td>Brand<a class="icon_info" tooltips tooltip-template="Magazine title">&#9432;</a></td>
          <td>Type<a class="icon_info" tooltips tooltip-template="How item in being mailed out">&#9432;</a></td>
          <td>Campaign<a class="icon_info" tooltips tooltip-template="Type of content ">&#9432;</a></td>
          <td>Date<a class="icon_info" tooltips tooltip-template="Date of mailing">&#9432;</a></td>
          <td>Headline<a class="icon_info" tooltips tooltip-template="Mailing headline">&#9432;</a></td>
          <td>Deployed<a class="icon_info" tooltips tooltip-template="How many mails were sent">&#9432;</a></td>
          <td>Recieved<a class="icon_info" tooltips tooltip-template="How many mailings were recieved">&#9432;</a></td>
          <td>Bounce%<a class="icon_info" tooltips tooltip-template="Bounce %">&#9432;</a></td>
          <td>Opens<a class="icon_info" tooltips tooltip-template="How many of the mailings were opened">&#9432;</a></td>
          <td>Unique Opens<a class="icon_info" tooltips tooltip-template="Unique openings">&#9432;</a></td>
          <td>Open Rate<a class="icon_info" tooltips tooltip-template="Open rate">&#9432;</a></td>
          <td>Clicks<a class="icon_info" tooltips tooltip-template="Clicks">&#9432;</a></td>
          <td>Unique Clicks<a class="icon_info" tooltips tooltip-template="Unique clicks">&#9432;</a></td>
          <td>Click to Open Rate<a class="icon_info" tooltips tooltip-template="Click to open rate">&#9432;</a></td>
          <td>CTR%<a class="icon_info" tooltips tooltip-template="CTR %">&#9432;</a></td>
        </tr>
        <tr ng-repeat="response in lc.API_response" class="highlight_row">
          <td>{{response.brand}}</td>
          <td>{{response.type}}</td>
          <td>{{response.campaign}}</td>
          <td>{{response.date}}</td>
          <td>{{response.headline}}</td>
          <td>{{response.deployed}}</td>
          <td>{{response.recieved}}</td>
          <td>{{response.bounce}}</td>
          <td>{{response.opens}}</td>
          <td>{{response.unique_opens}}</td>
          <td>{{response.open_rate}}</td>
          <td>{{response.clicks}}</td>
          <td>{{response.unique_clicks}}</td>
          <td>{{response.click_to_open}}</td>
          <td>{{response.ctr}}</td>
        </tr>
      </table>
    </section>
    <!-- export container -->
    <section class="flex-export-container">
      <button ng-if="lc.excel_button_status === 'button_active'" type="button" name="export_to_excel" class="btn_excel-active" ng-click="lc.export(lc.API_response)">Export to Excel</button>
      <button ng-if="lc.excel_button_status === 'button_inactive'" type="button" name="export_to_excel" class="btn_excel-inactive"><img src="./assets/images/loader.gif"></button>
    </section>
  <!-- end lc.query data container -->
  </section>

  <!-- footer container -->
  <footer>
    <h5>&#169; 2018 EPG Media LLC</h5>
  </footer>


<!-- end main container -->
</section>
